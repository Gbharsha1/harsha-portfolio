<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Password Strength Checker</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        :root {
  --primary: #4f46e5;
  --primary-dark: #4338ca;
  --dark: #1e293b;
  --gray: #94a3b8;
  --light: #f8fafc;
  --bg-gradient: linear-gradient(90deg, #4f46e5 0%, #4338ca 100%);
}

/* Enhance header */
.header {
  background: var(--bg-gradient);
  color: white;
  padding: 1rem 2rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  position: sticky;
  top: 0;
  z-index: 999;
}

/* Logo */
.logo {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.logo-icon {
  font-size: 2rem;
  color: white;
  animation: pulse 2s infinite;
}

.logo-text h1 {
  font-size: 1.5rem;
  font-weight: bold;
  margin: 0;
}

.logo-text p {
  font-size: 0.9rem;
  margin: 0;
  opacity: 0.85;
}

/* Back button */
.back-btn {
  background-color: rgba(255, 255, 255, 0.15);
  color: white;
  border: none;
  padding: 0.5rem 1rem;
  border-radius: 8px;
  font-size: 1rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  cursor: pointer;
  transition: background 0.3s ease;
}

.back-btn:hover {
  background-color: rgba(255, 255, 255, 0.25);
}

* {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }
    
    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background-color: #f1f5f9;
        color: var(--dark);
        line-height: 1.6;
        min-height: 100vh;
    }
    
    .app-container {
        display: grid;
        grid-template-rows: auto 1fr auto;
        min-height: 100vh;
    }
    
    /* Header */
    .header {
        background: var(--bg-gradient);
        color: white;
        padding: 1.5rem 2rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        position: relative;
        z-index: 10;
    }
    
    .logo {
        display: flex;
        align-items: center;
        gap: 0.75rem;
    }
    
    .logo-icon {
        font-size: 2rem;
        animation: pulse 2s infinite;
    }
    
    .logo-text h1 {
        font-size: 1.5rem;
        font-weight: 700;
        margin-bottom: 0.25rem;
    }
    
    .logo-text p {
        font-size: 0.875rem;
        opacity: 0.9;
    }
    
    .header-actions {
        display: flex;
        gap: 1rem;
    }
    
    .theme-toggle {
        background: rgba(255, 255, 255, 0.2);
        border: none;
        color: white;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.25rem;
        cursor: pointer;
        transition: all 0.3s ease;
    }
    
    .theme-toggle:hover {
        background: rgba(255, 255, 255, 0.3);
        transform: rotate(15deg);
    }
    
    .back-btn {
        background: rgba(255, 255, 255, 0.2);
        border: none;
        color: white;
        padding: 0.5rem 1rem;
        border-radius: 8px;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-size: 1rem;
        cursor: pointer;
        transition: all 0.3s ease;
    }
    
    .back-btn:hover {
        background: rgba(255, 255, 255, 0.3);
        transform: translateX(-3px);
    }
    
    /* Main Content */
    .main-content {
        display: grid;
        grid-template-columns: 1fr 350px;
        gap: 2rem;
        padding: 2rem;
        max-width: 1400px;
        margin: 0 auto;
    }
    
    /* Password Input Section */
    .password-section {
        background-color: white;
        border-radius: 12px;
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        padding: 2rem;
        display: flex;
        flex-direction: column;
    }
    
    .section-title {
        font-size: 1.5rem;
        font-weight: 600;
        margin-bottom: 1.5rem;
        color: var(--dark);
        display: flex;
        align-items: center;
        gap: 0.75rem;
    }
    
    .section-title span {
        color: var(--primary);
    }
    
    .input-group {
        margin-bottom: 2rem;
    }
    
    .input-group label {
        display: block;
        margin-bottom: 0.75rem;
        font-weight: 500;
        color: var(--dark);
        font-size: 1.1rem;
    }
    
    .password-input-wrapper {
        position: relative;
        z-index: 1;
    }
    
    .password-input {
        width: 100%;
        padding: 1rem 3rem 1rem 1.5rem;
        border: 2px solid #e2e8f0;
        border-radius: 12px;
        font-size: 1.1rem;
        transition: all 0.3s ease;
        background-color: white;
    }
    
    .password-input:focus {
        outline: none;
        border-color: var(--primary);
        box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.2);
    }
    
    .toggle-password {
        position: absolute;
        right: 1.5rem;
        top: 50%;
        transform: translateY(-50%);
        background: none;
        border: none;
        cursor: pointer;
        color: var(--gray);
        font-size: 1.2rem;
        z-index: 2;
        transition: color 0.3s ease;
    }
    
    .toggle-password:hover {
        color: var(--primary);
    }
    
    .strength-meter-container {
        margin-top: 1.5rem;
    }
    
    .strength-meter {
        height: 12px;
        border-radius: 6px;
        background-color: #e2e8f0;
        overflow: hidden;
        position: relative;
    }
    
    .strength-meter-fill {
        height: 100%;
        width: 0;
        border-radius: 6px;
        transition: width 0.5s ease, background-color 0.5s ease;
        position: relative;
    }
    
    .strength-meter-fill::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(90deg, 
            rgba(255,255,255,0.1) 0%, 
            rgba(255,255,255,0.3) 50%, 
            rgba(255,255,255,0.1) 100%);
        background-size: 200% 100%;
        animation: shimmer 2s infinite;
    }
    
    .strength-text {
        margin-top: 0.75rem;
        font-size: 1rem;
        font-weight: 600;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    
    .strength-label {
        transition: color 0.3s ease;
    }
    
    .crack-time {
        font-size: 0.9rem;
        color: var(--gray);
        transition: color 0.3s ease;
    }
    
    .security-level {
        display: flex;
        align-items: center;
        margin-top: 1.5rem;
        padding: 1.5rem;
        border-radius: 12px;
        background-color: #f8fafc;
        transition: background-color 0.3s ease;
    }
    
    .security-icon {
        font-size: 2.5rem;
        margin-right: 1.5rem;
    }
    
    .security-text h3 {
        font-size: 1.25rem;
        margin-bottom: 0.5rem;
    }
    
    .security-text p {
        font-size: 1rem;
        color: var(--gray);
    }
    
    .buttons-container {
        display: flex;
        gap: 1rem;
        margin-top: 2rem;
    }
    
    .generate-btn {
        flex: 1;
        padding: 1rem;
        background: linear-gradient(135deg, var(--primary), var(--primary-dark));
        color: white;
        border: none;
        border-radius: 12px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
    }
    
    .generate-btn::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, 
            rgba(255,255,255,0) 0%, 
            rgba(255,255,255,0.2) 50%, 
            rgba(255,255,255,0) 100%);
        transition: left 0.7s ease;
    }
    
    .generate-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 15px -3px rgba(79, 70, 229, 0.4);
    }
    
    .generate-btn:hover::before {
        left: 100%;
    }
    
    .copy-btn {
        padding: 1rem;
        background-color: white;
        color: var(--primary);
        border: 2px solid var(--primary);
        border-radius: 12px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
    }
    
    .copy-btn:hover {
        background-color: var(--primary);
        color: white;
        transform: translateY(-3px);
    }
    
    /* Requirements Section */
    .requirements {
        background-color: white;
        border-radius: 12px;
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        padding: 2rem;
        margin-top: 2rem;
    }
    
    .requirement-list {
        list-style: none;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
    }
    
    .requirement-item {
        display: flex;
        align-items: center;
        font-size: 1rem;
        color: var(--gray);
        transition: transform 0.2s ease, color 0.2s ease;
        padding: 0.75rem;
        border-radius: 8px;
        background-color: #f8fafc;
    }
    
    .requirement-item:hover {
        transform: translateX(5px);
        background-color: rgba(99, 102, 241, 0.05);
    }
    
    .requirement-item.valid {
        color: var(--strong);
        background-color: rgba(16, 185, 129, 0.1);
    }
    
    .requirement-icon {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 28px;
        height: 28px;
        margin-right: 0.75rem;
        border-radius: 50%;
        font-size: 0.9rem;
        transition: all 0.3s ease;
    }
    
    .requirement-item.valid .requirement-icon {
        background-color: var(--strong);
        color: white;
    }
    
    .requirement-item:not(.valid) .requirement-icon {
        background-color: #e2e8f0;
        color: var(--gray);
    }
    
    /* Crack Time Table */
    .crack-time-table {
        background-color: white;
        border-radius: 12px;
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        padding: 1.5rem;
        margin-top: 2rem;
    }
    
    .table-container {
        overflow-x: auto;
    }
    
    .crack-time-table table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 1rem;
    }
    
    .crack-time-table th,
    .crack-time-table td {
        padding: 0.75rem 1rem;
        text-align: left;
        border-bottom: 1px solid #e2e8f0;
    }
    
    .crack-time-table th {
        background-color: #f8fafc;
        font-weight: 600;
        color: var(--dark);
    }
    
    .crack-time-table tr:last-child td {
        border-bottom: none;
    }
    
    .crack-time-table tr:hover td {
        background-color: #f8fafc;
    }
    
    /* Sidebar */
    .sidebar {
        display: flex;
        flex-direction: column;
        gap: 2rem;
    }
    
    .password-history {
        background-color: white;
        border-radius: 12px;
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        padding: 1.5rem;
    }
    
    .history-title {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1.5rem;
    }
    
    .history-title h3 {
        font-size: 1.25rem;
        color: var(--dark);
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }
    
    .history-title h3 span {
        color: var(--primary);
    }
    
    .clear-history {
        background: none;
        border: none;
        color: var(--primary);
        cursor: pointer;
        font-size: 0.9rem;
        transition: color 0.3s ease;
        display: flex;
        align-items: center;
        gap: 0.25rem;
    }
    
    .clear-history:hover {
        color: var(--primary-dark);
        text-decoration: underline;
    }
    
    .history-list {
        list-style: none;
        max-height: 300px;
        overflow-y: auto;
    }
    
    .history-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0.75rem;
        border-bottom: 1px solid #e2e8f0;
        font-size: 0.95rem;
        cursor: pointer;
        transition: background-color 0.2s ease;
        border-radius: 6px;
    }
    
    .history-item:hover {
        background-color: #f8fafc;
    }
    
    .history-item:last-child {
        border-bottom: none;
    }
    
    .history-password {
        font-family: monospace;
        font-size: 0.9rem;
    }
    
    .history-strength {
        padding: 0.25rem 0.5rem;
        border-radius: 4px;
        font-size: 0.8rem;
        font-weight: 500;
        color: white;
    }
    
    /* Did You Know Section */
    .did-you-know {
        background-color: white;
        border-radius: 12px;
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        padding: 1.5rem;
    }
    
    .fact-container {
        padding: 1rem;
        background-color: #f8fafc;
        border-radius: 8px;
        margin-top: 1rem;
    }
    
    .fact-icon {
        font-size: 2rem;
        margin-bottom: 0.5rem;
        color: var(--primary);
    }
    
    .fact-text {
        font-size: 0.95rem;
        color: var(--dark);
    }
    
    /* Footer */
    .footer {
        background-color: white;
        padding: 1.5rem 2rem;
        text-align: center;
        border-top: 1px solid #e2e8f0;
        margin-top: 2rem;
    }
    
    .footer p {
        color: var(--gray);
        font-size: 0.9rem;
    }
    
    /* Animations */
    @keyframes pulse {
        0% {
            transform: scale(1);
        }
        50% {
            transform: scale(1.1);
        }
        100% {
            transform: scale(1);
        }
    }
    
    @keyframes shimmer {
        0% {
            background-position: -200% 0;
        }
        100% {
            background-position: 200% 0;
        }
    }
    
    /* Responsive */
    @media (max-width: 1024px) {
        .main-content {
            grid-template-columns: 1fr;
        }
        
        .sidebar {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        }
    }
    
    @media (max-width: 768px) {
        .header {
            flex-direction: column;
            text-align: center;
            padding: 1rem;
            gap: 1rem;
        }
        
        .main-content {
            padding: 1rem;
        }
        
        .requirement-list {
            grid-template-columns: 1fr;
        }
        
        .buttons-container {
            flex-direction: column;
        }
        
        .sidebar {
            grid-template-columns: 1fr;
        }
    }
</style>
<header class="header">
  <div class="logo">
    <i class="fas fa-shield-alt logo-icon"></i>
    <div class="logo-text">
      <h1>Password Checker</h1>
      <p>Strength & Security Analyzer</p>
    </div>
  </div>
  <div class="header-actions">
    <a href="index.html" class="back-btn">
  <i class="fas fa-arrow-left"></i> Back
</a>
  </div>
</header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Left Column -->
        <div class="left-column">
            <!-- Password Input Section -->
            <section class="password-section">
                <h2 class="section-title"><span>🔐</span> Password Strength Test</h2>
                
                <div class="input-group">
                    <label for="password">Enter Your Password</label>
                    <div class="password-input-wrapper">
                        <input type="password" id="password" class="password-input" placeholder="Type or generate a password">
                        <button type="button" class="toggle-password" id="togglePassword">👁️</button>
                    </div>
                    
                    <div class="strength-meter-container">
                        <div class="strength-meter">
                            <div class="strength-meter-fill" id="strengthMeterFill"></div>
                        </div>
                        <div class="strength-text">
                            <span class="strength-label" id="strengthLabel">Password strength</span>
                            <span class="crack-time" id="crackTime">Time to crack: -</span>
                        </div>
                    </div>
                    
                    <div class="security-level" id="securityLevel">
                        <div class="security-icon" id="securityIcon">🔒</div>
                        <div class="security-text">
                            <h3 id="securityTitle">Enter a password</h3>
                            <p id="securityDesc">We'll analyze its strength and security</p>
                        </div>
                    </div>
                </div>
                
                <div class="buttons-container">
                    <button type="button" class="generate-btn" id="generateBtn">
                        <span>Generate Strong Password</span>
                    </button>
                    <button type="button" class="copy-btn" id="copyBtn">
                        <span>📋</span> Copy
                    </button>
                </div>
            </section>
            
            <!-- Requirements Section -->
            <section class="requirements">
                <h2 class="section-title"><span>✓</span> Password Requirements</h2>
                <ul class="requirement-list">
                    <li class="requirement-item" id="length">
                        <span class="requirement-icon">✓</span>
                        At least 8 characters
                    </li>
                    <li class="requirement-item" id="uppercase">
                        <span class="requirement-icon">✓</span>
                        Uppercase letter
                    </li>
                    <li class="requirement-item" id="lowercase">
                        <span class="requirement-icon">✓</span>
                        Lowercase letter
                    </li>
                    <li class="requirement-item" id="number">
                        <span class="requirement-icon">✓</span>
                        Number
                    </li>
                    <li class="requirement-item" id="special">
                        <span class="requirement-icon">✓</span>
                        Special character
                    </li>
                    <li class="requirement-item" id="noCommon">
                        <span class="requirement-icon">✓</span>
                        Not a common password
                    </li>
                </ul>
            </section>
            
            <!-- Crack Time Table -->
            <section class="crack-time-table">
                <h2 class="section-title"><span>⏱️</span> Password Cracking Times</h2>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Password Type</th>
                                <th>Example</th>
                                <th>Time to Crack</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Simple (6 chars)</td>
                                <td>abc123</td>
                                <td>Instantly</td>
                            </tr>
                            <tr>
                                <td>Medium (8 chars, mixed)</td>
                                <td>P@ssw0rd</td>
                                <td>8 hours</td>
                            </tr>
                            <tr>
                                <td>Strong (10 chars, mixed)</td>
                                <td>P@s$w0rd!2</td>
                                <td>5 years</td>
                            </tr>
                            <tr>
                                <td>Very Strong (12 chars, mixed)</td>
                                <td>P@s$w0rd!2&K</td>
                                <td>200+ years</td>
                            </tr>
                            <tr>
                                <td>Ultra Strong (16+ chars, mixed)</td>
                                <td>P@s$w0rd!2&K*9bT%</td>
                                <td>Millions of years</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
        </div>
        
        <!-- Sidebar -->
        <div class="sidebar">
            <!-- Password History -->
            <section class="password-history" id="passwordHistory">
                <div class="history-title">
                    <h3><span>📜</span> Recently Tested</h3>
                    <button type="button" class="clear-history" id="clearHistory">
                        <span>🗑️</span> Clear All
                    </button>
                </div>
                <ul class="history-list" id="historyList">
                    <!-- History items will be added here -->
                </ul>
            </section>
            
            <!-- Did You Know Section -->
            <section class="did-you-know">
                <h2 class="section-title"><span>💡</span> Did You Know?</h2>
                <div class="fact-container" id="factContainer">
                    <div class="fact-icon">💡</div>
                    <p class="fact-text" id="factText">
                        The most common password is still "123456", followed by "password" and "123456789".
                    </p>
                </div>
            </section>
        </div>
    </main>
    
    <!-- Footer -->
    <footer class="footer">
        <p>Your passwords are never stored or transmitted. All testing is done locally in your browser for maximum security.</p>
    </footer>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const passwordInput = document.getElementById('password');
        const togglePassword = document.getElementById('togglePassword');
        const strengthMeterFill = document.getElementById('strengthMeterFill');
        const strengthLabel = document.getElementById('strengthLabel');
        const crackTime = document.getElementById('crackTime');
        const generateBtn = document.getElementById('generateBtn');
        const copyBtn = document.getElementById('copyBtn');
        const clearHistory = document.getElementById('clearHistory');
        const historyList = document.getElementById('historyList');
        const securityIcon = document.getElementById('securityIcon');
        const securityTitle = document.getElementById('securityTitle');
        const securityDesc = document.getElementById('securityDesc');
        const securityLevel = document.getElementById('securityLevel');
        const themeToggle = document.getElementById('themeToggle');
        const backBtn = document.getElementById('backBtn');
        const factText = document.getElementById('factText');
        
        // Requirements elements
        const lengthReq = document.getElementById('length');
        const uppercaseReq = document.getElementById('uppercase');
        const lowercaseReq = document.getElementById('lowercase');
        const numberReq = document.getElementById('number');
        const specialReq = document.getElementById('special');
        const noCommonReq = document.getElementById('noCommon');
        
        // Common passwords list (abbreviated)
        const commonPasswords = [
            '123456', 'password', '123456789', '12345678', '12345', 
            'qwerty', '1234567', '111111', '1234567890', '123123', 
            'abc123', '1234', 'password1', 'admin', 'welcome', 
            'monkey', 'login', 'qwerty123', 'dragon', 'master',
            'football', 'baseball', 'superman', 'batman', 'trustno1',
            'sunshine', 'iloveyou', 'princess', 'admin123', 'welcome123',
            'login123', 'solo', 'starwars', 'letmein', 'hello'
        ];
        
        // Password history
        let passwordHistory = [];
        
        // Password facts
        const passwordFacts = [
            "The most common password is still '123456', followed by 'password' and '123456789'.",
            "It would take a computer about 0.29 milliseconds to crack the password '123456'.",
            "Using a password manager is one of the best ways to maintain strong, unique passwords for all your accounts.",
            "Two-factor authentication can protect your accounts even if your password is compromised.",
            "A 12-character password with numbers, symbols, and mixed-case letters would take about 34,000 years to crack.",
            "The average person has 100 passwords across various accounts.",
            "World Password Day is celebrated on the first Thursday of May each year.",
            "25% of people forget their passwords at least once a day.",
            "Passwords like 'qwerty' and '123456' have appeared in data breaches over 30 million times.",
            "Passphrases (multiple random words) are often more secure and easier to remember than complex passwords."
        ];
        
        // Display random fact
        function showRandomFact() {
            const randomIndex = Math.floor(Math.random() * passwordFacts.length);
            factText.textContent = passwordFacts[randomIndex];
        }
        
        // Show initial random fact
        showRandomFact();
        
        // Change fact every 10 seconds
        setInterval(showRandomFact, 10000);
        
        // Toggle password visibility
        togglePassword.addEventListener('click', function() {
            const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
            passwordInput.setAttribute('type', type);
            togglePassword.textContent = type === 'password' ? '👁️' : '🔒';
        });
        
        // Check password strength
        passwordInput.addEventListener('input', checkPasswordStrength);
        
        function checkPasswordStrength() {
            const password = passwordInput.value;
            
            // Check requirements
            const hasLength = password.length >= 8;
            const hasUppercase = /[A-Z]/.test(password);
            const hasLowercase = /[a-z]/.test(password);
            const hasNumber = /[0-9]/.test(password);
            const hasSpecial = /[^A-Za-z0-9]/.test(password);
            const isNotCommon = password.length > 0 && !commonPasswords.includes(password.toLowerCase());
            
            // Update requirement indicators
            updateRequirement(lengthReq, hasLength);
            updateRequirement(uppercaseReq, hasUppercase);
            updateRequirement(lowercaseReq, hasLowercase);
            updateRequirement(numberReq, hasNumber);
            updateRequirement(specialReq, hasSpecial);
            updateRequirement(noCommonReq, isNotCommon);
            
            // Calculate entropy bits
            let entropy = calculateEntropy(password);
            
            // Calculate strength score (0-100)
            let strengthScore = calculateStrengthScore(password, entropy);
            
            // Update strength meter
            let strengthClass = '';
            let strengthText = '';
            let crackTimeText = '';
            let securityIconText = '';
            let securityTitleText = '';
            let securityDescText = '';
            
            if (password.length === 0) {
                strengthScore = 0;
                strengthText = 'Password strength';
                crackTimeText = 'Time to crack: -';
                securityIconText = '🔒';
                securityTitleText = 'Enter a password';
                securityDescText = 'We\'ll analyze its strength and security';
                securityLevel.style.backgroundColor = '#f8fafc';
            } else if (strengthScore < 20) {
                strengthClass = 'var(--weak)';
                strengthText = 'Very Weak';
                crackTimeText = 'Instantly';
                securityIconText = '⚠️';
                securityTitleText = 'Extremely Vulnerable';
                securityDescText = 'This password can be cracked instantly';
                securityLevel.style.backgroundColor = '#fee2e2';
            } else if (strengthScore < 40) {
                strengthClass = 'var(--weak)';
                strengthText = 'Weak';
                crackTimeText = 'Less than a day';
                securityIconText = '⚠️';
                securityTitleText = 'Very Vulnerable';
                securityDescText = 'This password can be cracked in less than a day';
                securityLevel.style.backgroundColor = '#fee2e2';
            } else if (strengthScore < 60) {
                strengthClass = 'var(--medium)';
                strengthText = 'Medium';
                crackTimeText = estimateCrackTime(entropy);
                securityIconText = '⚠️';
                securityTitleText = 'Somewhat Vulnerable';
                securityDescText = 'This password provides minimal protection';
                securityLevel.style.backgroundColor = '#fef3c7';
            } else if (strengthScore < 80) {
                strengthClass = 'var(--strong)';
                strengthText = 'Strong';
                crackTimeText = estimateCrackTime(entropy);
                securityIconText = '✅';
                securityTitleText = 'Good Protection';
                securityDescText = 'This password provides good security';
                securityLevel.style.backgroundColor = '#d1fae5';
            } else {
                strengthClass = 'var(--very-strong)';
                strengthText = 'Very Strong';
                crackTimeText = estimateCrackTime(entropy);
                securityIconText = '🛡️';
                securityTitleText = 'Excellent Protection';
                securityDescText = 'This password provides excellent security';
                securityLevel.style.backgroundColor = '#dbeafe';
            }
            
            strengthMeterFill.style.width = `${strengthScore}%`;
            strengthMeterFill.style.backgroundColor = strengthClass;
            strengthLabel.textContent = strengthText;
            strengthLabel.style.color = strengthClass;
            crackTime.textContent = `Time to crack: ${crackTimeText}`;
            crackTime.style.color = strengthClass;
            
            securityIcon.textContent = securityIconText;
            securityTitle.textContent = securityTitleText;
            securityDesc.textContent = securityDescText;
        }
        
        function updateRequirement(element, isValid) {
            if (isValid) {
                element.classList.add('valid');
                element.querySelector('.requirement-icon').textContent = '✓';
            } else {
                element.classList.remove('valid');
                element.querySelector('.requirement-icon').textContent = '✓';
            }
        }
        
        function calculateEntropy(password) {
            if (password.length === 0) return 0;
            
            let charsetSize = 0;
            if (/[a-z]/.test(password)) charsetSize += 26;
            if (/[A-Z]/.test(password)) charsetSize += 26;
            if (/[0-9]/.test(password)) charsetSize += 10;
            if (/[^A-Za-z0-9]/.test(password)) charsetSize += 33;
            
            // Shannon entropy formula: L * log2(N)
            // where L is password length and N is charset size
            return password.length * Math.log2(charsetSize || 1);
        }
        
        function calculateStrengthScore(password, entropy) {
            if (password.length === 0) return 0;
            
            // Base score from entropy
            let score = Math.min(100, entropy * 3);
            
            // Penalties
            
            // Common password
            if (commonPasswords.includes(password.toLowerCase())) {
                score = Math.max(0, score - 50);
            }
            
            // Repeated characters
            const repeats = password.length - new Set(password.split('')).size;
            score = Math.max(0, score - repeats * 5);
            
            // Sequential characters
            let sequential = 0;
            for (let i = 0; i < password.length - 1; i++) {
                if (password.charCodeAt(i + 1) - password.charCodeAt(i) === 1) {
                    sequential++;
                }
            }
            score = Math.max(0, score - sequential * 3);
            
            // Keyboard patterns (simplified check)
            const keyboardPatterns = ['qwerty', 'asdfgh', 'zxcvbn', '123456'];
            for (const pattern of keyboardPatterns) {
                if (password.toLowerCase().includes(pattern)) {
                    score = Math.max(0, score - 20);
                    break;
                }
            }
            
            return Math.round(score);
        }
        
        function estimateCrackTime(entropy) {
            // Assuming 10 billion guesses per second (modern hardware)
            const guessesPerSecond = 10000000000;
            
            // Average guesses needed = 2^(entropy) / 2
            const avgGuesses = Math.pow(2, entropy) / 2;
            
            // Time in seconds
            const seconds = avgGuesses / guessesPerSecond;
            
            if (seconds < 1) {
                return 'Instantly';
            } else if (seconds < 60) {
                return `${Math.round(seconds)} seconds`;
            } else if (seconds < 3600) {
                return `${Math.round(seconds / 60)} minutes`;
            } else if (seconds < 86400) {
                return `${Math.round(seconds / 3600)} hours`;
            } else if (seconds < 31536000) {
                return `${Math.round(seconds / 86400)} days`;
            } else if (seconds < 3153600000) { // 100 years
                return `${Math.round(seconds / 31536000)} years`;
            } else if (seconds < 31536000000) { // 1000 years
                return 'Over 100 years';
            } else if (seconds < 315360000000) { // 10,000 years
                return 'Over 1,000 years';
            } else if (seconds < 3153600000000) { // 100,000 years
                return 'Over 10,000 years';
            } else {
                return 'Millions of years';
            }
        }
        
        // Generate strong password
        generateBtn.addEventListener('click', generatePassword);
        
        function generatePassword() {
            const minLength = 16;
            const maxLength = 20;
            const length = Math.floor(Math.random() * (maxLength - minLength + 1)) + minLength;
            
            const charset = {
                uppercase: 'ABCDEFGHJKLMNPQRSTUVWXYZ', // removed I and O to avoid confusion
                lowercase: 'abcdefghijkmnopqrstuvwxyz', // removed l to avoid confusion
                numbers: '23456789', // removed 0 and 1 to avoid confusion
                special: '!@#$%^&*()-_=+[]{}|;:,.<>?'
            };
            
            let password = '';
            
            // Ensure at least one character from each set
            password += getRandomChar(charset.uppercase);
            password += getRandomChar(charset.lowercase);
            password += getRandomChar(charset.numbers);
            password += getRandomChar(charset.special);
            
            // Fill the rest with random characters from all sets
            const allChars = charset.uppercase + charset.lowercase + charset.numbers + charset.special;
            for (let i = password.length; i < length; i++) {
                password += getRandomChar(allChars);
            }
            
            // Shuffle the password
            password = shuffleString(password);
            
            // Update input field
            passwordInput.value = password;
            checkPasswordStrength();
            
            // Add to history
            addToHistory(password);
            
            // Visual feedback
            generateBtn.innerHTML = "<span>Generated!</span>";
            setTimeout(() => {
                generateBtn.innerHTML = "<span>Generate Strong Password</span>";
            }, 1000);
        }
        
        function getRandomChar(charset) {
            return charset.charAt(Math.floor(Math.random() * charset.length));
        }
        
        function shuffleString(string) {
            const array = string.split('');
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array.join('');
        }
        
        // Copy password
        copyBtn.addEventListener('click', function() {
            if (passwordInput.value) {
                navigator.clipboard.writeText(passwordInput.value)
                    .then(() => {
                        copyBtn.innerHTML = "<span>✓</span> Copied!";
                        setTimeout(() => {
                            copyBtn.innerHTML = "<span>📋</span> Copy";
                        }, 1000);
                    })
                    .catch(err => {
                        console.error('Could not copy text: ', err);
                    });
            }
        });
        
        // Password history
        function addToHistory(password) {
            if (!password) return;
            
            // Calculate strength for history item
            const entropy = calculateEntropy(password);
            const score = calculateStrengthScore(password, entropy);
            let strength = '';
            let color = '';
            
            if (score < 20) {
                strength = 'Very Weak';
                color = 'var(--weak)';
            } else if (score < 40) {
                strength = 'Weak';
                color = 'var(--weak)';
            } else if (score < 60) {
                strength = 'Medium';
                color = 'var(--medium)';
            } else if (score < 80) {
                strength = 'Strong';
                color = 'var(--strong)';
            } else {
                strength = 'Very Strong';
                color = 'var(--very-strong)';
            }
            
            // Add to history array (max 5 items)
            const historyItem = { password, strength, color };
            
            // Don't add duplicates
            if (!passwordHistory.some(item => item.password === password)) {
                passwordHistory.unshift(historyItem);
                if (passwordHistory.length > 5) {
                    passwordHistory.pop();
                }
            }
            
            // Update history UI
            updateHistoryUI();
        }
        
        function updateHistoryUI() {
            historyList.innerHTML = '';
            
            if (passwordHistory.length === 0) {
                const emptyItem = document.createElement('li');
                emptyItem.className = 'history-item';
                emptyItem.textContent = 'No passwords tested yet';
                historyList.appendChild(emptyItem);
                return;
            }
            
            passwordHistory.forEach(item => {
                const li = document.createElement('li');
                li.className = 'history-item';
                
                const passwordSpan = document.createElement('span');
                passwordSpan.className = 'history-password';
                // Mask the password for security
                const maskedPassword = item.password.substring(0, 3) + '•••••' + 
                                      item.password.substring(item.password.length - 2);
                passwordSpan.textContent = maskedPassword;
                
                const strengthSpan = document.createElement('span');
                strengthSpan.className = 'history-strength';
                strengthSpan.textContent = item.strength;
                strengthSpan.style.backgroundColor = item.color;
                
                li.appendChild(passwordSpan);
                li.appendChild(strengthSpan);
                
                // Add click event to restore this password
                li.addEventListener('click', function() {
                    passwordInput.value = item.password;
                    checkPasswordStrength();
                });
                
                historyList.appendChild(li);
            });
        }
        
        // Clear history
        clearHistory.addEventListener('click', function() {
            passwordHistory = [];
            updateHistoryUI();
        });
        
        // Theme toggle
        themeToggle.addEventListener('click', function() {
            document.body.classList.toggle('dark-theme');
            themeToggle.textContent = document.body.classList.contains('dark-theme') ? '☀️' : '🌙';
        });
        
        // Back button functionality

        
        // Initialize history UI
        updateHistoryUI();


    });
</script>
